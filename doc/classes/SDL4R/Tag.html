<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang='en'>
  <head>
    <title>: SDL4R::Tag [RDoc: Simple Declarative Language for Ruby]</title>
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <link href='../../rdoc-style.css' media='screen' rel='stylesheet' type='text/css'>
    <script type='text/javascript'>
      //<![CDATA[
        function popupCode(url) {
          window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
        }
        
        function toggleCode(id) {
          var code = document.getElementById(id)
        
          code.style.display = code.style.display != 'block' ? 'block' : 'none'
          return true
        }
        
        // Make codeblocks hidden by default
        document.writeln('<' + 'style type="text/css">.method .source pre { display: none }<\/style>')
      //]]>
    </script>
  </head>
  <body class='page'>
    <div class='class' id='wrapper'>
      <div class='header'>
        <h1 class='name'>
          <span class='type'>Class</span>
          SDL4R::Tag
        </h1>
        <ol class='paths'>
          <li>
            <a href="../../files/lib/sdl4r/tag_rb.html">lib/sdl4r/tag.rb</a>
          </li>
        </ol>
        <div class='parent'>
          Parent:
          <strong>Object</strong>
        </div>
      </div>
      <div id='content'>
        <div id='text'>
          <div id='description'>
            <p>
            SDL documents are made of Tags.
            </p>
            <p>
            See the <a href="../../files/README.html">README</a> for a longer
            explanation on SDL documents.
            </p>
            <p>
            Do not assume that methods returning sets (Hash, Array, etc) of
            children/values/attributes/etc in this class returns copies or
            implementations. It can be one or the other depending on the method. The
            implementations are designed to be correct and somewhat efficient, not too
            protect the <a href="Tag.html">Tag</a> internal state from ill-use of the
            returned values.
            </p>
            <h2>Authors</h2>
            <p>
            Daniel Leuck, Philippe Vosges
            </p>
          </div>
          <div id='method-list'>
            <h2>Methods</h2>
            <h3>public class</h3>
            <ol>
              <li><a href="#M000106">new</a></li>
            </ol>
            <h3>public instance</h3>
            <ol>
              <li><a href="#M000109">&lt;&lt;</a></li>
              <li><a href="#M000147">==</a></li>
              <li><a href="#M000108">add_child</a></li>
              <li><a href="#M000122">add_value</a></li>
              <li><a href="#M000130">attribute</a></li>
              <li><a href="#M000133">attributes</a></li>
              <li><a href="#M000137">attributes=</a></li>
              <li><a href="#M000117">child</a></li>
              <li><a href="#M000114">child_count</a></li>
              <li><a href="#M000115">children</a></li>
              <li><a href="#M000145">children_to_string</a></li>
              <li><a href="#M000116">children_values</a></li>
              <li><a href="#M000135">clear_attributes</a></li>
              <li><a href="#M000111">clear_children</a></li>
              <li><a href="#M000125">clear_values</a></li>
              <li><a href="#M000146">eql?</a></li>
              <li><a href="#M000131">has_attribute?</a></li>
              <li><a href="#M000132">has_attributes?</a></li>
              <li><a href="#M000118">has_child?</a></li>
              <li><a href="#M000119">has_children?</a></li>
              <li><a href="#M000123">has_value?</a></li>
              <li><a href="#M000128">has_values?</a></li>
              <li><a href="#M000148">hash</a></li>
              <li><a href="#M000138">name=</a></li>
              <li><a href="#M000139">namespace=</a></li>
              <li><a href="#M000107">new_child</a></li>
              <li><a href="#M000140">read</a></li>
              <li><a href="#M000141">read_from_io</a></li>
              <li><a href="#M000134">remove_attribute</a></li>
              <li><a href="#M000110">remove_child</a></li>
              <li><a href="#M000124">remove_value</a></li>
              <li><a href="#M000129">set_attribute</a></li>
              <li><a href="#M000136">set_attributes</a></li>
              <li><a href="#M000120">to_child_hash</a></li>
              <li><a href="#M000121">to_child_string_hash</a></li>
              <li><a href="#M000143">to_s</a></li>
              <li><a href="#M000144">to_string</a></li>
              <li><a href="#M000149">to_xml_string</a></li>
              <li><a href="#M000113">value</a></li>
              <li><a href="#M000112">value=</a></li>
              <li><a href="#M000126">values</a></li>
              <li><a href="#M000127">values=</a></li>
              <li><a href="#M000142">write</a></li>
            </ol>
            <h3>protected instance</h3>
            <ol>
              <li><a href="#M000150">_to_xml_string</a></li>
            </ol>
          </div>
          <div id='section'>
            <div id='attribute-list'>
              <h2 class='section-bar'>Attributes</h2>
              <div class='name-list'>
                <table>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>name</td>
                    <td class='context-item-value'>[R]</td>
                    <td class='context-item-desc'>
                      
                      the name of this <a href="Tag.html">Tag</a>
                    </td>
                  </tr>
                  <tr class='top-aligned-row context-row'>
                    <td class='context-item-name'>namespace</td>
                    <td class='context-item-value'>[R]</td>
                    <td class='context-item-desc'>
                      
                      the namespace of this <a href="Tag.html">Tag</a> or an empty string when
                      there is no namespace (i.e. default namespace).
                    </td>
                  </tr>
                </table>
              </div>
            </div>
            <div id='methods'>
              <h2>Public class methods</h2>
              <div class='method public-class' id='method-M000106'>
                <a name='M000106'></a>
                <div class='synopsis'>
                  <span class='name'>new</span>
                  <span class='arguments'>(namespace, name = nil, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  Creates an empty tag in the given namespace. If the <tt>namespace</tt> is
                  nil it will be coerced to an empty String.
                  </p>
                  <pre>tag = Tag.new(&quot;name&quot;)&#x000A;tag = Tag.new(&quot;namespace&quot;, &quot;name&quot;)&#x000A;&#x000A;tag = Tag.new(&quot;fruit&quot;) do&#x000A;  add_value 2&#x000A;  new_child(&quot;orange&quot;) do&#x000A;    set_attribute(&quot;quantity&quot;, 2)&#x000A;  end&#x000A;end</pre>
                  <p>
                  which builds the following SDL structure
                  </p>
                  <pre>fruit 2 {&#x000A;  orange quantity=2&#x000A;}</pre>
                  <p>
                  If you provide a block that takes an argument, you will write the same
                  example, as follows:
                  </p>
                  <pre>tag = Tag.new(&quot;fruit&quot;) do |t|&#x000A;  t.add_value 2&#x000A;  t.new_child(&quot;orange&quot;) do&#x000A;    set_attribute(&quot;quantity&quot;, 2)&#x000A;  end&#x000A;end</pre>
                  <p>
                  In this case, the current context is not the new <a href="Tag.html">Tag</a>
                  anymore but the context of your code.
                  </p>
                  <h3>Raises</h3>
                  <p>
                  ArgumentError if the name is not a legal SDL identifier (see
                  SDL4R#validate_identifier) or the namespace is non-blank and is not a legal
                  SDL identifier.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000106-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000106-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 142</span>&#x000A;142:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">name</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;143:       <span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">name</span> = <span class="ruby-identifier">to_ns_n</span> <span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">name</span>&#x000A;144: &#x000A;145: &#x000A;146:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-value str">&quot;tag namespace must be a String&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">String</span>&#x000A;147:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-value str">&quot;tag name must be a String&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">String</span>&#x000A;148: &#x000A;149:       <span class="ruby-constant">SDL4R</span>.<span class="ruby-identifier">validate_identifier</span>(<span class="ruby-identifier">namespace</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">empty?</span>&#x000A;150:       <span class="ruby-ivar">@namespace</span> = <span class="ruby-identifier">namespace</span>&#x000A;151:       &#x000A;152:       <span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">to_s</span>.<span class="ruby-identifier">strip</span>&#x000A;153:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-value str">&quot;Tag name cannot be nil or empty&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">empty?</span>&#x000A;154:       <span class="ruby-constant">SDL4R</span>.<span class="ruby-identifier">validate_identifier</span>(<span class="ruby-identifier">name</span>)&#x000A;155:       <span class="ruby-ivar">@name</span> = <span class="ruby-identifier">name</span>&#x000A;156:       &#x000A;157:       <span class="ruby-ivar">@children</span> = []&#x000A;158:       <span class="ruby-ivar">@values</span> = []&#x000A;159:       &#x000A;160:       <span class="ruby-comment cmt"># a Hash of Hash : {namespace =&gt; {name =&gt; value}}</span>&#x000A;161:       <span class="ruby-comment cmt"># The default namespace is represented by an empty string.</span>&#x000A;162:       <span class="ruby-ivar">@attributesByNamespace</span> = {}&#x000A;163: &#x000A;164:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>&#x000A;165:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span>.<span class="ruby-identifier">arity</span> <span class="ruby-operator">&gt;</span> <span class="ruby-value">0</span>&#x000A;166:           <span class="ruby-identifier">block</span>[<span class="ruby-keyword kw">self</span>]&#x000A;167:         <span class="ruby-keyword kw">else</span>&#x000A;168:           <span class="ruby-identifier">instance_eval</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;169:         <span class="ruby-keyword kw">end</span>&#x000A;170:       <span class="ruby-keyword kw">end</span>&#x000A;171:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <h2>Public instance methods</h2>
              <div class='method public-instance' id='method-M000109'>
                <a name='M000109'></a>
                <div class='synopsis'>
                  <span class='name'>&lt;&lt;</span>
                  <span class='arguments'>(o)</span>
                </div>
                <div class='description'>
                  <p>
                  Adds the given object as a child if it is a <tt>Tag</tt>, as an attribute
                  if it is a Hash {key => value} (supports namespaces), or as a value
                  otherwise. If it is an Enumerable (e.g. Array), each of its elements is
                  added to this <a href="Tag.html">Tag</a> via this operator. If any of its
                  elements is itself an Enumerable, then an anonymous tag is created and the
                  Enumerable is passed to it via this operator (see the examples below).
                  </p>
                  <pre>tag &lt;&lt; Tag.new(&quot;child&quot;)&#x000A;tag &lt;&lt; 123                          # new integer value&#x000A;tag &lt;&lt; &quot;islamabad&quot;                  # new string value&#x000A;tag &lt;&lt; { &quot;metric:length&quot; =&gt; 1027 }  # new attribute (with namespace)&#x000A;tag &lt;&lt; [nil, 456, &quot;abc&quot;]            # several values added&#x000A;&#x000A;tag = Tag.new(&quot;tag&quot;)&#x000A;tag &lt;&lt; [[1, 2, 3], [4, 5, 6]]       # tag {&#x000A;                                    #   1 2 3&#x000A;                                    #   4 5 6&#x000A;                                    # }</pre>
                  <p>
                  Of course, despite the fact that String is an Enumerable, it is considered
                  as the type of values.
                  </p>
                  <p>
                  Returns <tt>self</tt>.
                  </p>
                  <p>
                  Use other accessors (<a href="Tag.html#M000108">add_child</a>, <a
                  href="Tag.html#M000122">add_value</a>, <a
                  href="Tag.html#M000133">attributes</a>, etc) for a stricter and less
                  &#8220;magical&#8221; behavior.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000109-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000109-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 236</span>&#x000A;236:     <span class="ruby-keyword kw">def</span> <span class="ruby-operator">&lt;&lt;</span>(<span class="ruby-identifier">o</span>)&#x000A;237:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Tag</span>)&#x000A;238:         <span class="ruby-identifier">add_child</span>(<span class="ruby-identifier">o</span>)&#x000A;239:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Hash</span>)&#x000A;240:         <span class="ruby-identifier">o</span>.<span class="ruby-identifier">each_pair</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>&#x000A;241:           <span class="ruby-identifier">key</span> = <span class="ruby-identifier">key</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Symbol</span>&#x000A;242:           <span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">key</span> = <span class="ruby-identifier">key</span>.<span class="ruby-identifier">split</span>(<span class="ruby-regexp re">/:/</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">match</span>(<span class="ruby-regexp re">/:/</span>)&#x000A;243:           <span class="ruby-identifier">namespace</span> <span class="ruby-operator">||=</span> <span class="ruby-value str">&quot;&quot;</span>&#x000A;244:           <span class="ruby-identifier">set_attribute</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>)&#x000A;245:         }&#x000A;246:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">String</span>&#x000A;247:         <span class="ruby-identifier">add_value</span>(<span class="ruby-identifier">o</span>)&#x000A;248:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Enumerable</span>&#x000A;249:         <span class="ruby-identifier">o</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">item</span><span class="ruby-operator">|</span>&#x000A;250:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">item</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Enumerable</span> <span class="ruby-keyword kw">and</span> <span class="ruby-keyword kw">not</span> <span class="ruby-identifier">item</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">String</span>&#x000A;251:             <span class="ruby-identifier">anonymous</span> = <span class="ruby-identifier">new_child</span>(<span class="ruby-constant">ANONYMOUS_TAG_NAME</span>)&#x000A;252:             <span class="ruby-identifier">anonymous</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">item</span>&#x000A;253:           <span class="ruby-keyword kw">else</span>&#x000A;254:             <span class="ruby-keyword kw">self</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">item</span>&#x000A;255:           <span class="ruby-keyword kw">end</span>&#x000A;256:         }&#x000A;257:       <span class="ruby-keyword kw">else</span>&#x000A;258:         <span class="ruby-identifier">add_value</span>(<span class="ruby-identifier">o</span>)&#x000A;259:       <span class="ruby-keyword kw">end</span>&#x000A;260:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>&#x000A;261:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000147'>
                <a name='M000147'></a>
                <div class='synopsis'>
                  <span class='name'>==</span>
                  <span class='arguments'>(o)</span>
                </div>
                <div class='description'>
                  <p>
                  Alias for <a href="Tag.html#M000146">eql?</a>
                  </p>
                </div>
              </div>
              <div class='method public-instance' id='method-M000108'>
                <a name='M000108'></a>
                <div class='synopsis'>
                  <span class='name'>add_child</span>
                  <span class='arguments'>(child)</span>
                </div>
                <div class='description'>
                  <p>
                  Add a child to this <a href="Tag.html">Tag</a>.
                  </p>
                  <table>
                  <tr><td valign="top"><em>child</em>:</td><td>The child to add
                  
                  </td></tr>
                  </table>
                  <p>
                  Returns the added child.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000108-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000108-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 204</span>&#x000A;204:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_child</span>(<span class="ruby-identifier">child</span>)&#x000A;205:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-value str">&quot;child is nil&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">child</span>&#x000A;206:       <span class="ruby-ivar">@children</span>.<span class="ruby-identifier">push</span>(<span class="ruby-identifier">child</span>)&#x000A;207:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">child</span>&#x000A;208:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000122'>
                <a name='M000122'></a>
                <div class='synopsis'>
                  <span class='name'>add_value</span>
                  <span class='arguments'>(v)</span>
                </div>
                <div class='description'>
                  <p>
                  Adds a value to this <a href="Tag.html">Tag</a>. See SDL4R#coerce_or_fail
                  to know about the allowable types.
                  </p>
                  <table>
                  <tr><td valign="top"><em>v</em>:</td><td>The value to add
                  
                  </td></tr>
                  </table>
                  <p>
                  Raises an <tt>ArgumentError</tt> if the value is not a legal SDL type
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000122-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000122-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 485</span>&#x000A;485:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">add_value</span>(<span class="ruby-identifier">v</span>)&#x000A;486:       <span class="ruby-ivar">@values</span>.<span class="ruby-identifier">push</span>(<span class="ruby-constant">SDL4R</span><span class="ruby-operator">::</span><span class="ruby-identifier">coerce_or_fail</span>(<span class="ruby-identifier">v</span>))&#x000A;487:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span>&#x000A;488:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000130'>
                <a name='M000130'></a>
                <div class='synopsis'>
                  <span class='name'>attribute</span>
                  <span class='arguments'>(namespace, key = nil)</span>
                </div>
                <div class='description'>
                  <pre>attribute(key)&#x000A;attribute(namespace, key)</pre>
                  <p>
                  Returns the attribute of the specified <tt>namespace</tt> of specified
                  <tt>key</tt> or <tt>nil</tt> if not found.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000130-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000130-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 596</span>&#x000A;596:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attribute</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">key</span> = <span class="ruby-keyword kw">nil</span>)&#x000A;597:       <span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">key</span> = <span class="ruby-identifier">to_ns_n</span> <span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">key</span>&#x000A;598:       <span class="ruby-identifier">attributes</span> = <span class="ruby-ivar">@attributesByNamespace</span>[<span class="ruby-identifier">namespace</span>]&#x000A;599:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-value">? </span><span class="ruby-keyword kw">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">attributes</span>[<span class="ruby-identifier">key</span>]&#x000A;600:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000133'>
                <a name='M000133'></a>
                <div class='synopsis'>
                  <span class='name'>attributes</span>
                  <span class='arguments'>(namespace = nil) {|namespace, key, value| ...}</span>
                </div>
                <div class='description'>
                  <p>
                  Returns a Hash of the attributes of the specified <tt>namespace</tt>
                  (default is all) or enumerates them.
                  </p>
                  <pre>tag.attributes # =&gt; { &quot;length&quot; =&gt; 123, &quot;width&quot; = 25.4, &quot;orig:color&quot; =&gt; &quot;gray&quot; }&#x000A;tag.attributes(&quot;orig&quot;) do |namespace, key, value|&#x000A;  p &quot;#{namespace}:#{key} = #{value}&quot;&#x000A;end</pre>
                  <p>
                  <em>namespace</em>:: namespace of the returned attributes. If nil, all
                  attributes are returned with qualified names (e.g.
                  &#8220;meat:color&#8221;). If &#8220;&#8221;, attributes of the default
                  namespace are returned.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000133-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000133-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 638</span>&#x000A;638:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attributes</span>(<span class="ruby-identifier">namespace</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-comment cmt"># :yields: namespace, key, value</span>&#x000A;639:       <span class="ruby-identifier">namespace</span> = <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">id2name</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Symbol</span>&#x000A;640:       &#x000A;641:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>&#x000A;642:         <span class="ruby-identifier">each_attribute</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;643:         &#x000A;644:       <span class="ruby-keyword kw">else</span>&#x000A;645:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">nil?</span>&#x000A;646:           <span class="ruby-identifier">hash</span> = {}&#x000A;647: &#x000A;648:           <span class="ruby-identifier">each_attribute</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span> <span class="ruby-identifier">attr_namespace</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span> <span class="ruby-operator">|</span>&#x000A;649:             <span class="ruby-identifier">qualified_name</span> = <span class="ruby-identifier">attr_namespace</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-value">? </span><span class="ruby-identifier">key</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">attr_namespace</span> <span class="ruby-operator">+</span> <span class="ruby-value str">':'</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">key</span>&#x000A;650:             <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">qualified_name</span>] = <span class="ruby-identifier">value</span>&#x000A;651:           <span class="ruby-keyword kw">end</span>&#x000A;652: &#x000A;653:           <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">hash</span>&#x000A;654: &#x000A;655:         <span class="ruby-keyword kw">else</span>&#x000A;656:           <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@attributesByNamespace</span>[<span class="ruby-identifier">namespace</span>]&#x000A;657:         <span class="ruby-keyword kw">end</span>&#x000A;658:       <span class="ruby-keyword kw">end</span>&#x000A;659:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000137'>
                <a name='M000137'></a>
                <div class='synopsis'>
                  <span class='name'>attributes=</span>
                  <span class='arguments'>(attribute_hash)</span>
                </div>
                <div class='description'>
                  <p>
                  Sets all the attributes of the default namespace for this <a
                  href="Tag.html">Tag</a> in one operation.
                  </p>
                  <p>
                  See <a href="Tag.html#M000136">set_attributes</a>.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000137-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000137-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 744</span>&#x000A;744:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">attributes=</span>(<span class="ruby-identifier">attribute_hash</span>)&#x000A;745:       <span class="ruby-identifier">set_attributes</span>(<span class="ruby-identifier">attribute_hash</span>)&#x000A;746:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000117'>
                <a name='M000117'></a>
                <div class='synopsis'>
                  <span class='name'>child</span>
                  <span class='arguments'>(*args)</span>
                </div>
                <div class='description'>
                  <pre>child # =&gt; first child&#x000A;child(name) # =&gt; first child of specified name (any namespace)&#x000A;child(true, name) # =&gt; first child (or descendant) of specified name (any namspace)&#x000A;child(namespace, name) # =&gt; first child of specified namespace and name&#x000A;child(recursive, namespace, name)</pre>
                  <p>
                  Get the first child with the given name, optionally using a recursive
                  search.
                  </p>
                  <table>
                  <tr><td valign="top"><em>name</em>:</td><td>the name of the child <a href="Tag.html">Tag</a>. If <tt>nil</tt>, the
                  first child is returned (<tt>nil</tt> if there are
                  
                  </td></tr>
                  </table>
                  <p>
                  no children at all).
                  </p>
                  <p>
                  Returns the first child tag having the given name or <tt>nil</tt> if no
                  such child exists
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000117-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000117-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 384</span>&#x000A;384:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">child</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)&#x000A;385:       <span class="ruby-identifier">recursive</span>, <span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">name</span> = <span class="ruby-identifier">to_rec_ns_n</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)&#x000A;386: &#x000A;387:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">nil?</span>&#x000A;388:         <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@children</span>.<span class="ruby-identifier">first</span>&#x000A;389:       <span class="ruby-keyword kw">else</span>&#x000A;390:         <span class="ruby-identifier">each_child</span>(<span class="ruby-identifier">recursive</span>, <span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">name</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">child</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">child</span> }&#x000A;391:       <span class="ruby-keyword kw">end</span>&#x000A;392:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000114'>
                <a name='M000114'></a>
                <div class='synopsis'>
                  <span class='name'>child_count</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Returns the number of children <a href="Tag.html">Tag</a>.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000114-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000114-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 304</span>&#x000A;304:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">child_count</span>&#x000A;305:       <span class="ruby-ivar">@children</span>.<span class="ruby-identifier">size</span>&#x000A;306:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000115'>
                <a name='M000115'></a>
                <div class='synopsis'>
                  <span class='name'>children</span>
                  <span class='arguments'>(*args) {|child| ...}</span>
                </div>
                <div class='description'>
                  <pre>children(recursive)&#x000A;children(recursive, name)&#x000A;children(recursive, namespace, name)&#x000A;&#x000A;children(recursive) { |child| ... }&#x000A;children(recursive, name) { |child| ... }&#x000A;children(recursive, namespace, name) { |child| ... }</pre>
                  <p>
                  Returns an Array of the children Tags of this <a href="Tag.html">Tag</a> or
                  enumerates them.
                  </p>
                  <table>
                  <tr><td valign="top"><em>recursive</em>:</td><td>if true children and all descendants will be returned. False by default.
                  
                  </td></tr>
                  <tr><td valign="top"><em>name</em>:</td><td>if not nil, only children having this name will be returned. Nil by
                  default.
                  
                  </td></tr>
                  <tr><td valign="top"><em>namespace</em>:</td><td>use nil for all namespaces and &#8220;&#8221; for the default one. Nil by
                  default.
                  
                  </td></tr>
                  </table>
                  <pre>tag.children # =&gt; array of the children&#x000A;tag.children(true) { |descendant| ... }&#x000A;&#x000A;tag.children(false, &quot;name&quot;) # =&gt; children of name &quot;name&quot;&#x000A;tag.children(false, &quot;ns&quot;, nil) # =&gt; children of namespace &quot;ns&quot;</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000115-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000115-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 328</span>&#x000A;328:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">children</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>) <span class="ruby-comment cmt"># :yields: child</span>&#x000A;329:       <span class="ruby-identifier">recursive</span>, <span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">name</span> = <span class="ruby-identifier">to_rec_ns_n</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>)&#x000A;330: &#x000A;331:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>&#x000A;332:         <span class="ruby-identifier">each_child</span>(<span class="ruby-identifier">recursive</span>, <span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">name</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;333:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">nil</span>&#x000A;334:         &#x000A;335:       <span class="ruby-keyword kw">else</span>&#x000A;336:         <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">recursive</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">name</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">namespace</span>&#x000A;337:           <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@children</span>&#x000A;338:           &#x000A;339:         <span class="ruby-keyword kw">else</span>&#x000A;340:           <span class="ruby-identifier">result</span> = []&#x000A;341:           <span class="ruby-identifier">each_child</span>(<span class="ruby-identifier">recursive</span>, <span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">name</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">child</span><span class="ruby-operator">|</span>&#x000A;342:             <span class="ruby-identifier">result</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">child</span>&#x000A;343:           }&#x000A;344:           <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">result</span>&#x000A;345:         <span class="ruby-keyword kw">end</span>&#x000A;346:       <span class="ruby-keyword kw">end</span>&#x000A;347:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000145'>
                <a name='M000145'></a>
                <div class='synopsis'>
                  <span class='name'>children_to_string</span>
                  <span class='arguments'>(line_prefix = &quot;&quot;, s = &quot;&quot;)</span>
                </div>
                <div class='description'>
                  <p>
                  Returns a string representation of the children tags.
                  </p>
                  <table>
                  <tr><td valign="top"><em>linePrefix</em>:</td><td>a prefix to insert before every line.
                  
                  </td></tr>
                  <tr><td valign="top"><em>s</em>:</td><td>a String that receives the string representation
                  
                  </td></tr>
                  </table>
                  <p>
                  TODO: break up long lines using the backslash
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000145-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000145-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 924</span>&#x000A;924:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">children_to_string</span>(<span class="ruby-identifier">line_prefix</span> = <span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-identifier">s</span> = <span class="ruby-value str">&quot;&quot;</span>)&#x000A;925:       <span class="ruby-ivar">@children</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">child</span><span class="ruby-operator">|</span>&#x000A;926:         <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">child</span>.<span class="ruby-identifier">to_string</span>(<span class="ruby-identifier">line_prefix</span>) <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">$/</span>&#x000A;927:       <span class="ruby-keyword kw">end</span>&#x000A;928:       &#x000A;929:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">s</span>&#x000A;930:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000116'>
                <a name='M000116'></a>
                <div class='synopsis'>
                  <span class='name'>children_values</span>
                  <span class='arguments'>(name = nil)</span>
                </div>
                <div class='description'>
                  <p>
                  Returns the values of all the children with the given <tt>name</tt>. If the
                  child has more than one value, all the values will be added as an array. If
                  the child has no value, <tt>nil</tt> will be added. The search is not
                  recursive.
                  </p>
                  <table>
                  <tr><td valign="top"><em>name</em>:</td><td>if nil, all children are considered (nil by default).
                  
                  </td></tr>
                  </table>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000116-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000116-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 354</span>&#x000A;354:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">children_values</span>(<span class="ruby-identifier">name</span> = <span class="ruby-keyword kw">nil</span>)&#x000A;355:       <span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">id2name</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Symbol</span>&#x000A;356:       &#x000A;357:       <span class="ruby-identifier">children_values</span> = []&#x000A;358:       <span class="ruby-identifier">each_child</span>(<span class="ruby-keyword kw">false</span>, <span class="ruby-identifier">name</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">child</span><span class="ruby-operator">|</span>&#x000A;359:         <span class="ruby-keyword kw">case</span> <span class="ruby-identifier">child</span>.<span class="ruby-identifier">values</span>.<span class="ruby-identifier">size</span>&#x000A;360:         <span class="ruby-keyword kw">when</span> <span class="ruby-value">0</span>&#x000A;361:           <span class="ruby-identifier">children_values</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-keyword kw">nil</span>&#x000A;362:         <span class="ruby-keyword kw">when</span> <span class="ruby-value">1</span>&#x000A;363:           <span class="ruby-identifier">children_values</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">child</span>.<span class="ruby-identifier">value</span>&#x000A;364:         <span class="ruby-keyword kw">else</span>&#x000A;365:           <span class="ruby-identifier">children_values</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">child</span>.<span class="ruby-identifier">values</span>&#x000A;366:         <span class="ruby-keyword kw">end</span>&#x000A;367:       }&#x000A;368:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">children_values</span>&#x000A;369:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000135'>
                <a name='M000135'></a>
                <div class='synopsis'>
                  <span class='name'>clear_attributes</span>
                  <span class='arguments'>(namespace = nil)</span>
                </div>
                <div class='description'>
                  <p>
                  Clears the attributes of the specified namespace or all the attributes if
                  <tt>namespace</tt> is <tt>nil</tt>.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000135-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000135-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 680</span>&#x000A;680:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">clear_attributes</span>(<span class="ruby-identifier">namespace</span> = <span class="ruby-keyword kw">nil</span>)&#x000A;681:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">nil?</span>&#x000A;682:         <span class="ruby-ivar">@attributesByNamespace</span>.<span class="ruby-identifier">clear</span>&#x000A;683:       <span class="ruby-keyword kw">else</span>&#x000A;684:         <span class="ruby-identifier">namespace</span> = <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">id2name</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Symbol</span>&#x000A;685:         <span class="ruby-ivar">@attributesByNamespace</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">namespace</span>)&#x000A;686:       <span class="ruby-keyword kw">end</span>&#x000A;687:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000111'>
                <a name='M000111'></a>
                <div class='synopsis'>
                  <span class='name'>clear_children</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Removes all children.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000111-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000111-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 275</span>&#x000A;275:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">clear_children</span>&#x000A;276:       <span class="ruby-ivar">@children</span> = []&#x000A;277:       <span class="ruby-keyword kw">nil</span>&#x000A;278:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000125'>
                <a name='M000125'></a>
                <div class='synopsis'>
                  <span class='name'>clear_values</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Removes all values.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000125-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000125-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 513</span>&#x000A;513:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">clear_values</span>&#x000A;514:       <span class="ruby-ivar">@values</span> = []&#x000A;515:       <span class="ruby-keyword kw">nil</span>&#x000A;516:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000146'>
                <a name='M000146'></a>
                <div class='synopsis'>
                  <span class='name'>eql?</span>
                  <span class='arguments'>(o)</span>
                </div>
                <div class='description'>
                  <p>
                  Returns true if this tag (including all of its values, attributes, and
                  children) is equivalent to the given tag.
                  </p>
                  <p>
                  Returns true if the tags are equivalet
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000146-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000146-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 937</span>&#x000A;937:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">eql?</span>(<span class="ruby-identifier">o</span>)&#x000A;938:       <span class="ruby-comment cmt"># this is safe because to_string() dumps the full state</span>&#x000A;939:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Tag</span>) <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">o</span>.<span class="ruby-identifier">to_string</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">to_string</span>;&#x000A;940:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000131'>
                <a name='M000131'></a>
                <div class='synopsis'>
                  <span class='name'>has_attribute?</span>
                  <span class='arguments'>(namespace = nil, key = nil)</span>
                </div>
                <div class='description'>
                  <p>
                  Indicates whether there is at least an attribute in this <a
                  href="Tag.html">Tag</a>.
                  </p>
                  <pre>has_attribute?</pre>
                  <p>
                  Indicates whether there is the specified attribute exists in this <a
                  href="Tag.html">Tag</a>.
                  </p>
                  <pre>has_attribute?(key)&#x000A;has_attribute?(namespace, key)</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000131-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000131-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 609</span>&#x000A;609:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">has_attribute?</span>(<span class="ruby-identifier">namespace</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">key</span> = <span class="ruby-keyword kw">nil</span>)&#x000A;610:       <span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">key</span> = <span class="ruby-identifier">to_ns_n</span> <span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">key</span>&#x000A;611: &#x000A;612:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">namespace</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">key</span>&#x000A;613:         <span class="ruby-identifier">attributes</span> = <span class="ruby-ivar">@attributesByNamespace</span>[<span class="ruby-identifier">namespace</span>]&#x000A;614:         <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-value">? </span><span class="ruby-keyword kw">false</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">key</span>)&#x000A;615: &#x000A;616:       <span class="ruby-keyword kw">else</span>&#x000A;617:         <span class="ruby-identifier">attributes</span> { <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">true</span> }&#x000A;618:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span>&#x000A;619:       <span class="ruby-keyword kw">end</span>&#x000A;620:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000132'>
                <a name='M000132'></a>
                <div class='synopsis'>
                  <span class='name'>has_attributes?</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000132-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000132-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 622</span>&#x000A;622:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">has_attributes?</span>&#x000A;623:       <span class="ruby-operator">!</span><span class="ruby-ivar">@attributesByNamespace</span>.<span class="ruby-identifier">empty?</span>&#x000A;624:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000118'>
                <a name='M000118'></a>
                <div class='synopsis'>
                  <span class='name'>has_child?</span>
                  <span class='arguments'>(namespace, name = :DEFAULT)</span>
                </div>
                <div class='description'>
                  <p>
                  Indicates whether the child <a href="Tag.html">Tag</a> of given name
                  exists.
                  </p>
                  <table>
                  <tr><td valign="top"><em>name</em>:</td><td>name of the searched child <a href="Tag.html">Tag</a>
                  
                  </td></tr>
                  </table>
                  <pre>has_child?(name)&#x000A;has_child?(namespace, name)</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000118-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000118-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 401</span>&#x000A;401:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">has_child?</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">name</span> = <span class="ruby-identifier">:DEFAULT</span>)&#x000A;402:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:DEFAULT</span>&#x000A;403:         <span class="ruby-identifier">name</span> = <span class="ruby-identifier">namespace</span>&#x000A;404:         <span class="ruby-identifier">namespace</span> = <span class="ruby-keyword kw">nil</span>&#x000A;405:       <span class="ruby-keyword kw">end</span>&#x000A;406:       &#x000A;407:       <span class="ruby-operator">!</span><span class="ruby-identifier">child</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">name</span>).<span class="ruby-identifier">nil?</span>&#x000A;408:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000119'>
                <a name='M000119'></a>
                <div class='synopsis'>
                  <span class='name'>has_children?</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Indicates whether there are children <a href="Tag.html">Tag</a>.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000119-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000119-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 412</span>&#x000A;412:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">has_children?</span>&#x000A;413:       <span class="ruby-operator">!</span><span class="ruby-ivar">@children</span>.<span class="ruby-identifier">empty?</span>&#x000A;414:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000123'>
                <a name='M000123'></a>
                <div class='synopsis'>
                  <span class='name'>has_value?</span>
                  <span class='arguments'>(v)</span>
                </div>
                <div class='description'>
                  <p>
                  Returns true if <tt>v</tt> is a value of this Tag&#8217;s.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000123-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000123-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 492</span>&#x000A;492:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">has_value?</span>(<span class="ruby-identifier">v</span>)&#x000A;493:       <span class="ruby-ivar">@values</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">v</span>)&#x000A;494:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000128'>
                <a name='M000128'></a>
                <div class='synopsis'>
                  <span class='name'>has_values?</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000128-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000128-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 547</span>&#x000A;547:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">has_values?</span>&#x000A;548:       <span class="ruby-operator">!</span><span class="ruby-ivar">@values</span>.<span class="ruby-identifier">empty?</span>&#x000A;549:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000148'>
                <a name='M000148'></a>
                <div class='synopsis'>
                  <span class='name'>hash</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Returns The hash (based on the output from toString())
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000148-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000148-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 945</span>&#x000A;945:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">hash</span>&#x000A;946:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">to_string</span>.<span class="ruby-identifier">hash</span>&#x000A;947:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000138'>
                <a name='M000138'></a>
                <div class='synopsis'>
                  <span class='name'>name=</span>
                  <span class='arguments'>(name)</span>
                </div>
                <div class='description'>
                  <p>
                  Sets the name of this <a href="Tag.html">Tag</a>.
                  </p>
                  <p>
                  Raises <tt>ArgumentError</tt> if the name is not a legal SDL identifier
                  (see SDL4R#validate_identifier).
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000138-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000138-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 753</span>&#x000A;753:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">name=</span>(<span class="ruby-identifier">name</span>)&#x000A;754:       <span class="ruby-identifier">name</span> = <span class="ruby-identifier">name</span>.<span class="ruby-identifier">id2name</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Symbol</span>&#x000A;755:       <span class="ruby-constant">SDL4R</span>.<span class="ruby-identifier">validate_identifier</span>(<span class="ruby-identifier">name</span>)&#x000A;756:       <span class="ruby-ivar">@name</span> = <span class="ruby-identifier">name</span>&#x000A;757:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000139'>
                <a name='M000139'></a>
                <div class='synopsis'>
                  <span class='name'>namespace=</span>
                  <span class='arguments'>(namespace)</span>
                </div>
                <div class='description'>
                  <p>
                  The namespace to set. <tt>nil</tt> will be coerced to the empty string.
                  </p>
                  <p>
                  Raises <tt>ArgumentError</tt> if the namespace is non-blank and is not a
                  legal SDL identifier (see SDL4R#validate_identifier)
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000139-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000139-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 764</span>&#x000A;764:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">namespace=</span>(<span class="ruby-identifier">namespace</span>)&#x000A;765:       <span class="ruby-identifier">namespace</span> = <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">id2name</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Symbol</span>&#x000A;766:       <span class="ruby-constant">SDL4R</span>.<span class="ruby-identifier">validate_identifier</span>(<span class="ruby-identifier">namespace</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">empty?</span>&#x000A;767:       <span class="ruby-ivar">@namespace</span> = <span class="ruby-identifier">namespace</span>&#x000A;768:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000107'>
                <a name='M000107'></a>
                <div class='synopsis'>
                  <span class='name'>new_child</span>
                  <span class='arguments'>(*args, &amp;block)</span>
                </div>
                <div class='description'>
                  <p>
                  Creates a new child tag. Can take a block so that you can write something
                  like:
                  </p>
                  <pre>car = Tag.new(&quot;car&quot;) do&#x000A;  new_child(&quot;wheels&quot;) do&#x000A;    self &lt;&lt; 4&#x000A;  end&#x000A;end</pre>
                  <p>
                  The context of execution of the given block is the child instance. If you
                  provide a block that takes a parameter (see below), the context is the
                  context of your code:
                  </p>
                  <pre>car = Tag.new(&quot;car&quot;) do |child|&#x000A;  child.new_child(&quot;wheels&quot;) do |grandchild|&#x000A;    grandchild &lt;&lt; 4&#x000A;  end&#x000A;end</pre>
                  <p>
                  Returns the created child <a href="Tag.html">Tag</a>.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000107-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000107-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 194</span>&#x000A;194:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">new_child</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;195:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">add_child</span> <span class="ruby-constant">Tag</span>.<span class="ruby-identifier">new</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)&#x000A;196:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000140'>
                <a name='M000140'></a>
                <div class='synopsis'>
                  <span class='name'>read</span>
                  <span class='arguments'>(input)</span>
                </div>
                <div class='description'>
                  <p>
                  Adds all the tags specified in the given IO, String, Pathname or URI to
                  this <a href="Tag.html">Tag</a>.
                  </p>
                  <p>
                  Returns this <a href="Tag.html">Tag</a> after adding all the children read
                  from <tt>input</tt>.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000140-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000140-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 774</span>&#x000A;774:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">read</span>(<span class="ruby-identifier">input</span>)&#x000A;775:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">input</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">String</span>&#x000A;776:         <span class="ruby-identifier">read_from_io</span>(<span class="ruby-keyword kw">true</span>) { <span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">input</span>) }&#x000A;777: &#x000A;778:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">input</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Pathname</span>&#x000A;779:         <span class="ruby-identifier">read_from_io</span>(<span class="ruby-keyword kw">true</span>) { <span class="ruby-identifier">input</span>.<span class="ruby-identifier">open</span>(<span class="ruby-value str">&quot;r:UTF-8&quot;</span>) }&#x000A;780: &#x000A;781:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">input</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">URI</span>&#x000A;782:         <span class="ruby-identifier">read_from_io</span>(<span class="ruby-keyword kw">true</span>) { <span class="ruby-identifier">input</span>.<span class="ruby-identifier">open</span> }&#x000A;783: &#x000A;784:       <span class="ruby-keyword kw">else</span>&#x000A;785:         <span class="ruby-identifier">read_from_io</span>(<span class="ruby-keyword kw">false</span>) { <span class="ruby-identifier">input</span> }&#x000A;786:       <span class="ruby-keyword kw">end</span>&#x000A;787:       &#x000A;788:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">self</span>&#x000A;789:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000141'>
                <a name='M000141'></a>
                <div class='synopsis'>
                  <span class='name'>read_from_io</span>
                  <span class='arguments'>(close_io) {|| ...}</span>
                </div>
                <div class='description'>
                  <p>
                  Reads and parses the <tt>io</tt> returned by the specified block and closes
                  this <tt>io</tt> if <tt>close_io</tt> is true.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000141-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000141-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 793</span>&#x000A;793:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">read_from_io</span>(<span class="ruby-identifier">close_io</span>)&#x000A;794:       <span class="ruby-identifier">io</span> = <span class="ruby-keyword kw">yield</span>&#x000A;795: &#x000A;796:       <span class="ruby-keyword kw">begin</span>&#x000A;797:         <span class="ruby-constant">SDL4R</span><span class="ruby-operator">::</span><span class="ruby-constant">Reader</span>.<span class="ruby-identifier">from_io</span>(<span class="ruby-identifier">io</span>).<span class="ruby-identifier">each_tag</span>(<span class="ruby-keyword kw">true</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">tag</span><span class="ruby-operator">|</span>&#x000A;798:           <span class="ruby-identifier">add_child</span>(<span class="ruby-identifier">tag</span>)&#x000A;799:         <span class="ruby-keyword kw">end</span>&#x000A;800: &#x000A;801:       <span class="ruby-keyword kw">ensure</span>&#x000A;802:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">close_io</span>&#x000A;803:           <span class="ruby-identifier">io</span>.<span class="ruby-identifier">close</span> <span class="ruby-keyword kw">rescue</span> <span class="ruby-constant">IOError</span>&#x000A;804:         <span class="ruby-keyword kw">end</span>&#x000A;805:       <span class="ruby-keyword kw">end</span>&#x000A;806:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000134'>
                <a name='M000134'></a>
                <div class='synopsis'>
                  <span class='name'>remove_attribute</span>
                  <span class='arguments'>(namespace, key = nil)</span>
                </div>
                <div class='description'>
                  <pre>remove_attribute(key)&#x000A;remove_attribute(namespace, key)</pre>
                  <p>
                  Removes the attribute, whose name and namespace are specified.
                  </p>
                  <table>
                  <tr><td valign="top"><em>key</em>:</td><td>name of the removed atribute
                  
                  </td></tr>
                  <tr><td valign="top"><em>namespace</em>:</td><td>namespace of the removed attribute (equal to &#8220;&#8221;, default
                  namespace, by default)
                  
                  </td></tr>
                  </table>
                  <p>
                  Returns the value of the removed attribute or <tt>nil</tt> if it
                  didn&#8217;t exist.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000134-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000134-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 671</span>&#x000A;671:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove_attribute</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">key</span> = <span class="ruby-keyword kw">nil</span>)&#x000A;672:       <span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">key</span> = <span class="ruby-identifier">to_ns_n</span> <span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">key</span>&#x000A;673:       <span class="ruby-identifier">attributes</span> = <span class="ruby-ivar">@attributesByNamespace</span>[<span class="ruby-identifier">namespace</span>]&#x000A;674:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-value">? </span><span class="ruby-keyword kw">nil</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">key</span>)&#x000A;675:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000110'>
                <a name='M000110'></a>
                <div class='synopsis'>
                  <span class='name'>remove_child</span>
                  <span class='arguments'>(child)</span>
                </div>
                <div class='description'>
                  <p>
                  Remove a child from this <a href="Tag.html">Tag</a>
                  </p>
                  <table>
                  <tr><td valign="top"><em>child</em>:</td><td>the child to remove
                  
                  </td></tr>
                  </table>
                  <p>
                  Returns true if the child exists and is removed
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000110-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000110-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 269</span>&#x000A;269:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove_child</span>(<span class="ruby-identifier">child</span>)&#x000A;270:       <span class="ruby-keyword kw">return</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@children</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">child</span>).<span class="ruby-identifier">nil?</span>&#x000A;271:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000124'>
                <a name='M000124'></a>
                <div class='synopsis'>
                  <span class='name'>remove_value</span>
                  <span class='arguments'>(v)</span>
                </div>
                <div class='description'>
                  <p>
                  Removes the first occurence of the specified value from this <a
                  href="Tag.html">Tag</a>.
                  </p>
                  <table>
                  <tr><td valign="top"><em>v</em>:</td><td>The value to remove
                  
                  </td></tr>
                  </table>
                  <p>
                  Returns true If the value exists and is removed
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000124-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000124-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 502</span>&#x000A;502:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">remove_value</span>(<span class="ruby-identifier">v</span>)&#x000A;503:       <span class="ruby-identifier">index</span> = <span class="ruby-ivar">@values</span>.<span class="ruby-identifier">index</span>(<span class="ruby-identifier">v</span>)&#x000A;504:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">index</span>&#x000A;505:         <span class="ruby-keyword kw">return</span> <span class="ruby-operator">!</span><span class="ruby-ivar">@values</span>.<span class="ruby-identifier">delete_at</span>(<span class="ruby-identifier">index</span>).<span class="ruby-identifier">nil?</span>&#x000A;506:       <span class="ruby-keyword kw">else</span>&#x000A;507:         <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">false</span>&#x000A;508:       <span class="ruby-keyword kw">end</span>&#x000A;509:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000129'>
                <a name='M000129'></a>
                <div class='synopsis'>
                  <span class='name'>set_attribute</span>
                  <span class='arguments'>(namespace, key, value = :default)</span>
                </div>
                <div class='description'>
                  <pre>set_attribute(key, value)&#x000A;set_attribute(namespace, key, value)</pre>
                  <p>
                  Set an attribute in the given namespace for this tag. The allowable
                  attribute value types are the same as those allowed for <a
                  href="Tag.html#M000122">add_value</a>.
                  </p>
                  <table>
                  <tr><td valign="top"><em>namespace</em>:</td><td>The namespace for this attribute
                  
                  </td></tr>
                  <tr><td valign="top"><em>key</em>:</td><td>The attribute key
                  
                  </td></tr>
                  <tr><td valign="top"><em>value</em>:</td><td>The attribute value
                  
                  </td></tr>
                  </table>
                  <p>
                  Raises <tt>ArgumentError</tt> if the key is not a legal SDL identifier (see
                  SDL4R#validate_identifier), or the namespace is non-blank and is not a
                  legal SDL identifier, or thevalue is not a legal SDL type
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000129-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000129-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 565</span>&#x000A;565:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_attribute</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span> = <span class="ruby-identifier">:default</span>)&#x000A;566:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">value</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">:default</span>&#x000A;567:         <span class="ruby-identifier">value</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">namespace</span> = <span class="ruby-identifier">key</span>, <span class="ruby-identifier">namespace</span>, <span class="ruby-value str">&quot;&quot;</span>&#x000A;568:       <span class="ruby-keyword kw">end</span>&#x000A;569:       <span class="ruby-identifier">namespace</span> = <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">id2name</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Symbol</span>&#x000A;570:       <span class="ruby-identifier">key</span> = <span class="ruby-identifier">key</span>.<span class="ruby-identifier">id2name</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Symbol</span>&#x000A;571: &#x000A;572:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>,&#x000A;573:         <span class="ruby-value str">&quot;attribute namespace must be a String or a Symbol&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">String</span>&#x000A;574:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-value str">&quot;attribute key must be a String or a Symbol&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">String</span>&#x000A;575:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-value str">&quot;attribute key cannot be empty&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">key</span>.<span class="ruby-identifier">empty?</span>&#x000A;576: &#x000A;577:       <span class="ruby-constant">SDL4R</span>.<span class="ruby-identifier">validate_identifier</span>(<span class="ruby-identifier">namespace</span>) <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">empty?</span>&#x000A;578:       <span class="ruby-constant">SDL4R</span>.<span class="ruby-identifier">validate_identifier</span>(<span class="ruby-identifier">key</span>)&#x000A;579: &#x000A;580:       <span class="ruby-identifier">attributes</span> = <span class="ruby-ivar">@attributesByNamespace</span>[<span class="ruby-identifier">namespace</span>]&#x000A;581:       &#x000A;582:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">attributes</span>.<span class="ruby-identifier">nil?</span>&#x000A;583:         <span class="ruby-identifier">attributes</span> = {}&#x000A;584:         <span class="ruby-ivar">@attributesByNamespace</span>[<span class="ruby-identifier">namespace</span>] = <span class="ruby-identifier">attributes</span>&#x000A;585:       <span class="ruby-keyword kw">end</span>&#x000A;586:       &#x000A;587:       <span class="ruby-identifier">attributes</span>[<span class="ruby-identifier">key</span>] = <span class="ruby-constant">SDL4R</span>.<span class="ruby-identifier">coerce_or_fail</span>(<span class="ruby-identifier">value</span>)&#x000A;588:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000136'>
                <a name='M000136'></a>
                <div class='synopsis'>
                  <span class='name'>set_attributes</span>
                  <span class='arguments'>(namespace, attribute_hash = nil)</span>
                </div>
                <div class='description'>
                  <pre>set_attributes(attribute_hash)&#x000A;set_attributes(namespace, attribute_hash)</pre>
                  <p>
                  Sets the attributes specified by a Hash in the given <tt>namespace</tt> in
                  one operation. The previous attributes of the specified <tt>namespace</tt>
                  are removed. See <a href="Tag.html#M000129">set_attribute</a> for allowable
                  attribute value types.
                  </p>
                  <table>
                  <tr><td valign="top"><em>attributes</em>:</td><td>a Hash where keys are attribute keys
                  
                  </td></tr>
                  <tr><td valign="top"><em>namespace</em>:</td><td>&#8220;&#8221; (default namespace) by default
                  
                  </td></tr>
                  </table>
                  <p>
                  Raises an <tt>ArgumentError</tt> if any key in the map is not a legal SDL
                  identifier (see SDL4R#validate_identifier), or any value is not a legal SDL
                  type.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000136-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000136-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 721</span>&#x000A;721:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">set_attributes</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">attribute_hash</span> = <span class="ruby-keyword kw">nil</span>)&#x000A;722:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">attribute_hash</span>.<span class="ruby-identifier">nil?</span>&#x000A;723:         <span class="ruby-identifier">attribute_hash</span>, <span class="ruby-identifier">namespace</span> = <span class="ruby-identifier">namespace</span>, <span class="ruby-value str">&quot;&quot;</span>&#x000A;724:       <span class="ruby-keyword kw">end</span>&#x000A;725:       <span class="ruby-identifier">namespace</span> = <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">id2name</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Symbol</span>&#x000A;726:       &#x000A;727:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-value str">&quot;namespace can't be nil&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">nil?</span>&#x000A;728:       <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-value str">&quot;attribute_hash should be a Hash&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">attribute_hash</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">Hash</span>&#x000A;729: &#x000A;730:       <span class="ruby-identifier">namespace_attributes</span> = <span class="ruby-ivar">@attributesByNamespace</span>[<span class="ruby-identifier">namespace</span>]&#x000A;731:       <span class="ruby-identifier">namespace_attributes</span>.<span class="ruby-identifier">clear</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">namespace_attributes</span>&#x000A;732:       &#x000A;733:       <span class="ruby-identifier">attribute_hash</span>.<span class="ruby-identifier">each_pair</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span>&#x000A;734:           <span class="ruby-comment cmt"># Calling set_attribute() is required to ensure validations</span>&#x000A;735:           <span class="ruby-identifier">set_attribute</span>(<span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>)&#x000A;736:       <span class="ruby-keyword kw">end</span>&#x000A;737:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000120'>
                <a name='M000120'></a>
                <div class='synopsis'>
                  <span class='name'>to_child_hash</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Returns a new Hash where the children&#8217;s names as keys and their
                  values as the key&#8217;s value. Example:
                  </p>
                  <pre>child1 &quot;toto&quot;&#x000A;child2 2</pre>
                  <p>
                  would give
                  </p>
                  <pre>{ &quot;child1&quot; =&gt; &quot;toto&quot;, &quot;child2&quot; =&gt; 2 }</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000120-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000120-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 451</span>&#x000A;451:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_child_hash</span>&#x000A;452:       <span class="ruby-identifier">hash</span> = {}&#x000A;453:       <span class="ruby-identifier">children</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">child</span><span class="ruby-operator">|</span> <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">child</span>.<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">child</span>.<span class="ruby-identifier">value</span> }&#x000A;454:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">hash</span>&#x000A;455:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000121'>
                <a name='M000121'></a>
                <div class='synopsis'>
                  <span class='name'>to_child_string_hash</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Returns a new Hash where the children&#8217;s names as keys and their
                  values as the key&#8217;s value. Values are converted to Strings.
                  <tt>nil</tt> values become empty Strings. Example:
                  </p>
                  <pre>child1 &quot;toto&quot;&#x000A;child2 2&#x000A;child3 null</pre>
                  <p>
                  would give
                  </p>
                  <pre>{ &quot;child1&quot; =&gt; &quot;toto&quot;, &quot;child2&quot; =&gt; &quot;2&quot;, &quot;child3&quot; =&gt; &quot;&quot; }</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000121-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000121-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 469</span>&#x000A;469:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_child_string_hash</span>&#x000A;470:       <span class="ruby-identifier">hash</span> = {}&#x000A;471:       <span class="ruby-identifier">children</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">child</span><span class="ruby-operator">|</span>&#x000A;472:         <span class="ruby-comment cmt"># FIXME: it is quite hard to be sure whether we should mimic the Java version</span>&#x000A;473:         <span class="ruby-comment cmt"># as there might be a lot of values that don't translate nicely to Strings.</span>&#x000A;474:         <span class="ruby-identifier">hash</span>[<span class="ruby-identifier">child</span>.<span class="ruby-identifier">name</span>] = <span class="ruby-identifier">child</span>.<span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_s</span>&#x000A;475:       <span class="ruby-keyword kw">end</span>&#x000A;476:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">hash</span>&#x000A;477:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000143'>
                <a name='M000143'></a>
                <div class='synopsis'>
                  <span class='name'>to_s</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  Get a String representation of this SDL <a href="Tag.html">Tag</a>. This
                  method returns a complete description of the Tag&#8217;s state using SDL
                  (i.e. the output can be parsed by <a href="Tag.html#M000140">read</a>)
                  </p>
                  <p>
                  Returns A string representation of this tag using SDL
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000143-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000143-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 852</span>&#x000A;852:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_s</span>&#x000A;853:       <span class="ruby-identifier">to_string</span>&#x000A;854:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000144'>
                <a name='M000144'></a>
                <div class='synopsis'>
                  <span class='name'>to_string</span>
                  <span class='arguments'>(line_prefix = &quot;&quot;, indent = &quot;\t&quot;)</span>
                </div>
                <div class='description'>
                  <table>
                  <tr><td valign="top"><em>linePrefix</em>:</td><td>A prefix to insert before every line.
                  
                  </td></tr>
                  </table>
                  <p>
                  Returns A string representation of this tag using SDL
                  </p>
                  <p>
                  TODO: break up long lines using the backslash
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000144-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000144-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 861</span>&#x000A;861:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_string</span>(<span class="ruby-identifier">line_prefix</span> = <span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-identifier">indent</span> = <span class="ruby-value str">&quot;\t&quot;</span>)&#x000A;862:       <span class="ruby-identifier">line_prefix</span> = <span class="ruby-value str">&quot;&quot;</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">line_prefix</span>.<span class="ruby-identifier">nil?</span>&#x000A;863:       <span class="ruby-identifier">s</span> = <span class="ruby-value str">&quot;&quot;</span>&#x000A;864:       <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">line_prefix</span>&#x000A;865:       &#x000A;866:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">==</span> <span class="ruby-constant">ANONYMOUS_TAG_NAME</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">empty?</span>&#x000A;867:         <span class="ruby-identifier">skip_value_space</span> = <span class="ruby-keyword kw">true</span>&#x000A;868:       <span class="ruby-keyword kw">else</span>&#x000A;869:         <span class="ruby-identifier">skip_value_space</span> = <span class="ruby-keyword kw">false</span>&#x000A;870:         <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{namespace}:&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">empty?</span>&#x000A;871:         <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">name</span>&#x000A;872:       <span class="ruby-keyword kw">end</span>&#x000A;873: &#x000A;874:       <span class="ruby-comment cmt"># output values</span>&#x000A;875:       <span class="ruby-identifier">previous_value</span> = <span class="ruby-keyword kw">nil</span>&#x000A;876:       <span class="ruby-identifier">values</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>&#x000A;877:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">skip_value_space</span>&#x000A;878:           <span class="ruby-identifier">skip_value_space</span> = <span class="ruby-keyword kw">false</span>&#x000A;879:         <span class="ruby-keyword kw">else</span>&#x000A;880:           <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot; &quot;</span>&#x000A;881:         <span class="ruby-keyword kw">end</span>&#x000A;882:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">SdlTimeSpan</span>) <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">previous_value</span>.<span class="ruby-identifier">is_a?</span>(<span class="ruby-constant">Date</span>)&#x000A;883:           <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">to_s</span>(<span class="ruby-keyword kw">true</span>)&#x000A;884:         <span class="ruby-keyword kw">else</span>&#x000A;885:           <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">SDL4R</span>.<span class="ruby-identifier">format</span>(<span class="ruby-identifier">value</span>, <span class="ruby-keyword kw">true</span>, <span class="ruby-identifier">line_prefix</span>, <span class="ruby-identifier">indent</span>)&#x000A;886:         <span class="ruby-keyword kw">end</span>&#x000A;887:         <span class="ruby-identifier">previous_value</span> = <span class="ruby-identifier">value</span>&#x000A;888:       <span class="ruby-keyword kw">end</span>&#x000A;889: &#x000A;890:       <span class="ruby-comment cmt"># output attributes</span>&#x000A;891:       <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@attributesByNamespace</span>.<span class="ruby-identifier">empty?</span>&#x000A;892:         <span class="ruby-identifier">all_attributes_hash</span> = <span class="ruby-identifier">attributes</span>&#x000A;893:         <span class="ruby-identifier">all_attributes_array</span> = <span class="ruby-identifier">all_attributes_hash</span>.<span class="ruby-identifier">sort</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">a</span>, <span class="ruby-identifier">b</span><span class="ruby-operator">|</span>&#x000A;894:           <span class="ruby-identifier">namespace1</span>, <span class="ruby-identifier">name1</span> = <span class="ruby-identifier">a</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">split</span>(<span class="ruby-value str">':'</span>)&#x000A;895:           <span class="ruby-identifier">namespace1</span>, <span class="ruby-identifier">name1</span> = <span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-identifier">namespace1</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name1</span>.<span class="ruby-identifier">nil?</span>&#x000A;896:           <span class="ruby-identifier">namespace2</span>, <span class="ruby-identifier">name2</span> = <span class="ruby-identifier">b</span>[<span class="ruby-value">0</span>].<span class="ruby-identifier">split</span>(<span class="ruby-value str">':'</span>)&#x000A;897:           <span class="ruby-identifier">namespace2</span>, <span class="ruby-identifier">name2</span> = <span class="ruby-value str">&quot;&quot;</span>, <span class="ruby-identifier">namespace2</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">name2</span>.<span class="ruby-identifier">nil?</span>&#x000A;898: &#x000A;899:           <span class="ruby-identifier">diff</span> = <span class="ruby-identifier">namespace1</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">namespace2</span>&#x000A;900:           <span class="ruby-identifier">diff</span> <span class="ruby-operator">==</span> <span class="ruby-value">0</span> <span class="ruby-operator">?</span> <span class="ruby-identifier">name1</span> <span class="ruby-operator">&lt;=&gt;</span> <span class="ruby-identifier">name2</span> <span class="ruby-operator">:</span> <span class="ruby-identifier">diff</span>&#x000A;901:         }&#x000A;902:         <span class="ruby-identifier">all_attributes_array</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attribute_name</span>, <span class="ruby-identifier">attribute_value</span><span class="ruby-operator">|</span>&#x000A;903:           <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot; &quot;</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">attribute_name</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">'='</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">SDL4R</span>.<span class="ruby-identifier">format</span>(<span class="ruby-identifier">attribute_value</span>, <span class="ruby-keyword kw">true</span>)&#x000A;904:         <span class="ruby-keyword kw">end</span>&#x000A;905:       <span class="ruby-keyword kw">end</span>&#x000A;906: &#x000A;907:       <span class="ruby-comment cmt"># output children</span>&#x000A;908:       <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@children</span>.<span class="ruby-identifier">empty?</span>&#x000A;909:         <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot; {#{$/}&quot;</span>&#x000A;910:         <span class="ruby-identifier">children_to_string</span>(<span class="ruby-identifier">line_prefix</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">indent</span>, <span class="ruby-identifier">s</span>)&#x000A;911:         <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">line_prefix</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value">?}</span>&#x000A;912:       <span class="ruby-keyword kw">end</span>&#x000A;913: &#x000A;914:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">s</span>&#x000A;915:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000149'>
                <a name='M000149'></a>
                <div class='synopsis'>
                  <span class='name'>to_xml_string</span>
                  <span class='arguments'>(options = {})</span>
                </div>
                <div class='description'>
                  <p>
                  Returns a string containing an XML representation of this tag. Values will
                  be represented using _val0, _val1, etc.
                  </p>
                  <table>
                  <tr><td valign="top"><em>options</em>:</td><td>a hash of the options
                  
                  </td></tr>
                  </table>
                  <h3>options:</h3>
                  <dl>
                  <dt>:line_prefix</dt><dd>a text prefixing each line (default: &#8220;&#8221;)
                  
                  </dd>
                  <dt>:uri_by_namespace</dt><dd>a Hash giving the URIs for the namespaces
                  
                  </dd>
                  <dt>:indent</dt><dd>text specifying one indentation (default: &#8220;t&#8220;)
                  
                  </dd>
                  <dt>:eol</dt><dd>end of line expression (default: &#8220;n&#8220;)
                  
                  </dd>
                  <dt>:omit_null_attributes</dt><dd>if true, null/nil attributes are not exported (default: false). Otherwise,
                  they are exported as follows:
                  
                  <pre>tag attr=&quot;null&quot;</pre>
                  </dd>
                  </dl>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000149-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000149-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 965</span>&#x000A;965:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">to_xml_string</span>(<span class="ruby-identifier">options</span> = {})&#x000A;966:       <span class="ruby-identifier">options</span> = {&#x000A;967:         <span class="ruby-identifier">:uri_by_namespace</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">nil</span>,&#x000A;968:         <span class="ruby-identifier">:indent</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;\t&quot;</span>,&#x000A;969:         <span class="ruby-identifier">:line_prefix</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;&quot;</span>,&#x000A;970:         <span class="ruby-identifier">:eol</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-value str">&quot;\n&quot;</span>,&#x000A;971:         <span class="ruby-identifier">:omit_null_attributes</span> =<span class="ruby-operator">&gt;</span> <span class="ruby-keyword kw">false</span>&#x000A;972:       }.<span class="ruby-identifier">merge</span>(<span class="ruby-identifier">options</span>)&#x000A;973:       <span class="ruby-identifier">_to_xml_string</span>(<span class="ruby-identifier">options</span>[<span class="ruby-identifier">:line_prefix</span>], <span class="ruby-identifier">options</span>)&#x000A;974:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000113'>
                <a name='M000113'></a>
                <div class='synopsis'>
                  <span class='name'>value</span>
                  <span class='arguments'>()</span>
                </div>
                <div class='description'>
                  <p>
                  A convenience method that returns the first value.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000113-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000113-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 298</span>&#x000A;298:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">value</span>&#x000A;299:       <span class="ruby-ivar">@values</span>[<span class="ruby-value">0</span>]&#x000A;300:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000112'>
                <a name='M000112'></a>
                <div class='synopsis'>
                  <span class='name'>value=</span>
                  <span class='arguments'>(value)</span>
                </div>
                <div class='description'>
                  <p>
                  A convenience method that sets the first value in the value list. See # <a
                  href="Tag.html#M000122">add_value</a> for legal types.
                  </p>
                  <table>
                  <tr><td valign="top"><em>value</em>:</td><td>The value to be set.
                  
                  </td></tr>
                  </table>
                  <h3>Raises</h3>
                  <table>
                  <tr><td valign="top"><em>ArgumentError</em>:</td><td>if the value is not a legal SDL type
                  
                  </td></tr>
                  </table>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000112-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000112-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 290</span>&#x000A;290:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">value=</span>(<span class="ruby-identifier">value</span>)&#x000A;291:       <span class="ruby-ivar">@values</span>[<span class="ruby-value">0</span>] = <span class="ruby-constant">SDL4R</span>.<span class="ruby-identifier">coerce_or_fail</span>(<span class="ruby-identifier">value</span>)&#x000A;292:       <span class="ruby-keyword kw">nil</span>&#x000A;293:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000126'>
                <a name='M000126'></a>
                <div class='synopsis'>
                  <span class='name'>values</span>
                  <span class='arguments'>( {|value| ...}</span>
                </div>
                <div class='description'>
                  <p>
                  Returns an Array of the values of this <a href="Tag.html">Tag</a> or
                  enumerates them.
                  </p>
                  <pre>tag.values # =&gt; [123, &quot;spices&quot;]&#x000A;tag.values { |value| puts value }</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000126-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000126-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 523</span>&#x000A;523:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">values</span> <span class="ruby-comment cmt"># :yields: value</span>&#x000A;524:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block_given?</span>&#x000A;525:         <span class="ruby-ivar">@values</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">yield</span> <span class="ruby-identifier">v</span> }&#x000A;526:         <span class="ruby-keyword kw">nil</span>&#x000A;527:       <span class="ruby-keyword kw">else</span>&#x000A;528:         <span class="ruby-keyword kw">return</span> <span class="ruby-ivar">@values</span>&#x000A;529:       <span class="ruby-keyword kw">end</span>&#x000A;530:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000127'>
                <a name='M000127'></a>
                <div class='synopsis'>
                  <span class='name'>values=</span>
                  <span class='arguments'>(someValues)</span>
                </div>
                <div class='description'>
                  <p>
                  Set the values for this tag. See <a href="Tag.html#M000122">add_value</a>
                  for legal value types.
                  </p>
                  <table>
                  <tr><td valign="top"><em>values</em>:</td><td>The new values
                  
                  </td></tr>
                  </table>
                  <p>
                  Raises an <tt>ArgumentError</tt> if the collection contains any values
                  which are not legal SDL types.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000127-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000127-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 538</span>&#x000A;538:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">values=</span>(<span class="ruby-identifier">someValues</span>)&#x000A;539:       <span class="ruby-ivar">@values</span>.<span class="ruby-identifier">clear</span>()&#x000A;540:       <span class="ruby-identifier">someValues</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span>&#x000A;541:         <span class="ruby-comment cmt"># this is required to ensure validation of types</span>&#x000A;542:         <span class="ruby-identifier">add_value</span>(<span class="ruby-identifier">v</span>)&#x000A;543:       }&#x000A;544:       <span class="ruby-keyword kw">nil</span>&#x000A;545:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <div class='method public-instance' id='method-M000142'>
                <a name='M000142'></a>
                <div class='synopsis'>
                  <span class='name'>write</span>
                  <span class='arguments'>(output, include_root = false)</span>
                </div>
                <div class='description'>
                  <p>
                  Write this tag out to the given IO or StringIO or String (optionally
                  clipping the root.) Returns <tt>output</tt>.
                  </p>
                  <table>
                  <tr><td valign="top"><em>output</em>:</td><td>an IO or StringIO or a String to write to
                  
                  </td></tr>
                  <tr><td valign="top"><tt>include_root</tt>:</td><td>if true this tag will be written out as the root element, if false only the
                  
                  </td></tr>
                  </table>
                  <pre>children will be written. False by default.</pre>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000142-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000142-source'>     <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 816</span>&#x000A;816:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">write</span>(<span class="ruby-identifier">output</span>, <span class="ruby-identifier">include_root</span> = <span class="ruby-keyword kw">false</span>)&#x000A;817:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">output</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">String</span>&#x000A;818:         <span class="ruby-identifier">io</span> = <span class="ruby-constant">StringIO</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">output</span>)&#x000A;819:         <span class="ruby-identifier">close_io</span> = <span class="ruby-keyword kw">true</span> <span class="ruby-comment cmt"># indicates we close the IO ourselves</span>&#x000A;820:       <span class="ruby-keyword kw">elsif</span> <span class="ruby-identifier">output</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">IO</span> <span class="ruby-keyword kw">or</span> <span class="ruby-identifier">output</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">StringIO</span>&#x000A;821:         <span class="ruby-identifier">io</span> = <span class="ruby-identifier">output</span>&#x000A;822:         <span class="ruby-identifier">close_io</span> = <span class="ruby-keyword kw">false</span> <span class="ruby-comment cmt"># let the caller close the IO</span>&#x000A;823:       <span class="ruby-keyword kw">else</span>&#x000A;824:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">ArgumentError</span>, <span class="ruby-node">&quot;'output' should be a String or an IO but was #{output.class}&quot;</span>&#x000A;825:       <span class="ruby-keyword kw">end</span>&#x000A;826:       &#x000A;827:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">include_root</span>&#x000A;828:         <span class="ruby-identifier">io</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">to_s</span>&#x000A;829:       <span class="ruby-keyword kw">else</span>&#x000A;830:         <span class="ruby-identifier">first</span> = <span class="ruby-keyword kw">true</span>&#x000A;831:         <span class="ruby-identifier">children</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">child</span><span class="ruby-operator">|</span>&#x000A;832:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">first</span>&#x000A;833:             <span class="ruby-identifier">first</span> = <span class="ruby-keyword kw">false</span>&#x000A;834:           <span class="ruby-keyword kw">else</span>&#x000A;835:             <span class="ruby-identifier">io</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">$/</span>&#x000A;836:           <span class="ruby-keyword kw">end</span>&#x000A;837:           <span class="ruby-identifier">io</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">child</span>.<span class="ruby-identifier">to_s</span>&#x000A;838:         <span class="ruby-keyword kw">end</span>&#x000A;839:       <span class="ruby-keyword kw">end</span>&#x000A;840:       &#x000A;841:       <span class="ruby-identifier">io</span>.<span class="ruby-identifier">close</span>() <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">close_io</span>&#x000A;842: &#x000A;843:       <span class="ruby-identifier">output</span>&#x000A;844:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
              <h2>Protected instance methods</h2>
              <div class='method protected-instance' id='method-M000150'>
                <a name='M000150'></a>
                <div class='synopsis'>
                  <span class='name'>_to_xml_string</span>
                  <span class='arguments'>(line_prefix, options)</span>
                </div>
                <div class='description'>
                  <p>
                  Implementation of <a href="Tag.html#M000149">to_xml_string</a> but without
                  the extra-treatment on parameters for default values.
                  </p>
                </div>
                <div class='source'>
                  <a class='source-toggle' href='#' onclick="toggleCode('M000150-source'); return false">
                    [show source]
                  </a>
                  <pre id='M000150-source'>      <span class="ruby-comment cmt"># File lib/sdl4r/tag.rb, line 980</span>&#x000A; 980:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">_to_xml_string</span>(<span class="ruby-identifier">line_prefix</span>, <span class="ruby-identifier">options</span>)&#x000A; 981:       <span class="ruby-identifier">eol</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:eol</span>]&#x000A; 982: &#x000A; 983:       <span class="ruby-identifier">s</span> = <span class="ruby-value str">&quot;&quot;</span>&#x000A; 984:       <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">line_prefix</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value">?&lt;</span>&#x000A; 985:       <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{namespace}:&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">empty?</span>&#x000A; 986:       <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">name</span>&#x000A; 987: &#x000A; 988:       <span class="ruby-comment cmt"># output namespace declarations</span>&#x000A; 989:       <span class="ruby-identifier">uri_by_namespace</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:uri_by_namespace</span>]&#x000A; 990:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">uri_by_namespace</span>&#x000A; 991:         <span class="ruby-identifier">uri_by_namespace</span>.<span class="ruby-identifier">each_pair</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">namespace</span>, <span class="ruby-identifier">uri</span><span class="ruby-operator">|</span>&#x000A; 992:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">namespace</span>&#x000A; 993:             <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot; xmlns:#{namespace}=\&quot;#{uri}\&quot;&quot;</span>&#x000A; 994:           <span class="ruby-keyword kw">else</span>&#x000A; 995:             <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot; xmlns=\&quot;#{uri}\&quot;&quot;</span>&#x000A; 996:           <span class="ruby-keyword kw">end</span>&#x000A; 997:         <span class="ruby-keyword kw">end</span>&#x000A; 998:       <span class="ruby-keyword kw">end</span>&#x000A; 999: &#x000A;1000:       <span class="ruby-comment cmt"># output values</span>&#x000A;1001:       <span class="ruby-keyword kw">unless</span> <span class="ruby-ivar">@values</span>.<span class="ruby-identifier">empty?</span>&#x000A;1002:         <span class="ruby-identifier">i</span> = <span class="ruby-value">0</span>&#x000A;1003:         <span class="ruby-ivar">@values</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">value</span><span class="ruby-operator">|</span>&#x000A;1004:           <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot; _val&quot;</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">i</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;=\&quot;&quot;</span>&#x000A;1005:           <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">String</span>&#x000A;1006:             <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">value_string_to_xml</span>(<span class="ruby-identifier">value</span>, <span class="ruby-keyword kw">true</span>)&#x000A;1007:           <span class="ruby-keyword kw">else</span>&#x000A;1008:             <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">SDL4R</span>.<span class="ruby-identifier">format</span>(<span class="ruby-identifier">value</span>, <span class="ruby-keyword kw">false</span>)&#x000A;1009:           <span class="ruby-keyword kw">end</span>&#x000A;1010:           <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;\&quot;&quot;</span>&#x000A;1011:           <span class="ruby-identifier">i</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>&#x000A;1012:         <span class="ruby-keyword kw">end</span>&#x000A;1013:       <span class="ruby-keyword kw">end</span>&#x000A;1014:       &#x000A;1015:       <span class="ruby-comment cmt"># output attributes</span>&#x000A;1016:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">has_attribute?</span>&#x000A;1017:         <span class="ruby-identifier">omit_null_attributes</span> = <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:omit_null_attributes</span>]&#x000A;1018:         <span class="ruby-identifier">attributes</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">attribute_namespace</span>, <span class="ruby-identifier">attribute_name</span>, <span class="ruby-identifier">attribute_value</span><span class="ruby-operator">|</span>&#x000A;1019:           <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">omit_null_attributes</span> <span class="ruby-keyword kw">and</span> <span class="ruby-identifier">attribute_value</span>.<span class="ruby-identifier">nil?</span>&#x000A;1020:             <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot; &quot;</span>&#x000A;1021:             <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{attribute_namespace}:&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">attribute_namespace</span>.<span class="ruby-identifier">empty?</span>&#x000A;1022:             <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">attribute_name</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;=\&quot;&quot;</span>&#x000A;1023:             <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">attribute_value</span>.<span class="ruby-identifier">is_a?</span> <span class="ruby-constant">String</span>&#x000A;1024:               <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">value_string_to_xml</span>(<span class="ruby-identifier">attribute_value</span>, <span class="ruby-keyword kw">true</span>)&#x000A;1025:             <span class="ruby-keyword kw">else</span>&#x000A;1026:               <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-constant">SDL4R</span>.<span class="ruby-identifier">format</span>(<span class="ruby-identifier">attribute_value</span>, <span class="ruby-keyword kw">false</span>)&#x000A;1027:             <span class="ruby-keyword kw">end</span>&#x000A;1028:             <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value">?&quot;</span>&#x000A;1029:           <span class="ruby-keyword kw">end</span>&#x000A;1030:         <span class="ruby-keyword kw">end</span>&#x000A;1031:       <span class="ruby-keyword kw">end</span>&#x000A;1032:   &#x000A;1033:       <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@children</span>.<span class="ruby-identifier">empty?</span>&#x000A;1034:         <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;/&gt;&quot;</span>&#x000A;1035:       <span class="ruby-keyword kw">else</span>&#x000A;1036:         <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;&gt;&quot;</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">eol</span>&#x000A;1037:         <span class="ruby-ivar">@children</span>.<span class="ruby-identifier">each</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">child</span><span class="ruby-operator">|</span>&#x000A;1038:           <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">child</span>.<span class="ruby-identifier">_to_xml_string</span>(<span class="ruby-identifier">line_prefix</span> <span class="ruby-operator">+</span> <span class="ruby-identifier">options</span>[<span class="ruby-identifier">:indent</span>], <span class="ruby-identifier">options</span>) <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">eol</span>&#x000A;1039:         <span class="ruby-keyword kw">end</span>&#x000A;1040:         &#x000A;1041:         <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">line_prefix</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value str">&quot;&lt;/&quot;</span>&#x000A;1042:         <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-node">&quot;#{namespace}:&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">namespace</span>.<span class="ruby-identifier">empty?</span>&#x000A;1043:         <span class="ruby-identifier">s</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">name</span> <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-value">?&gt;</span>&#x000A;1044:       <span class="ruby-keyword kw">end</span>&#x000A;1045:   &#x000A;1046:       <span class="ruby-keyword kw">return</span> <span class="ruby-identifier">s</span>&#x000A;1047:     <span class="ruby-keyword kw">end</span></pre>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id='footer-push'></div>
    </div>
    <div id='footer'>
      <a href="http://github.com/mislav/hanna/tree/master"><strong>Hanna</strong> RDoc template</a>
    </div>
  </body>
</html>
